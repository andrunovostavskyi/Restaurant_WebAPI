2024-11-25 12:25:02.428 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 12:25:02.990 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 12:25:04.736 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 65.4763 ms
2024-11-25 12:25:04.747 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.9893 ms
2024-11-25 12:25:04.751 +02:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 304 in 5.9561 ms
2024-11-25 12:25:04.751 +02:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 304 in 5.9854 ms
2024-11-25 12:25:04.751 +02:00 [INF] HTTP GET /swagger/swagger-ui.css responded 304 in 5.9845 ms
2024-11-25 12:25:04.751 +02:00 [INF] HTTP GET /swagger/index.css responded 304 in 5.9433 ms
2024-11-25 12:25:05.223 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 94.1230 ms
2024-11-25 12:25:17.309 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":1,"$type":"CreateDishCommand"}
2024-11-25 12:25:17.593 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 12:25:17.893 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 12:25:17.927 +02:00 [INF] HTTP POST /api/restaurant/1/dishes responded 204 in 814.2217 ms
2024-11-25 12:25:28.150 +02:00 [INF] Get all restaurants
2024-11-25 12:25:28.238 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 12:25:28.288 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 155.6134 ms
2024-11-25 13:39:13.129 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 13:39:13.795 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 13:39:15.997 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 181.7051 ms
2024-11-25 13:39:16.018 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.9030 ms
2024-11-25 13:39:16.141 +02:00 [INF] HTTP POST /api/restaurant responded 400 in 333.9899 ms
2024-11-25 13:39:16.327 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 100.4926 ms
2024-11-25 13:39:22.777 +02:00 [INF] Get all restaurants
2024-11-25 13:39:23.062 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 13:39:23.276 +02:00 [INF] HTTP GET /api/restaurant responded 200 in 636.3558 ms
2024-11-25 13:39:33.683 +02:00 [INF] Get restaurants with id = 3
2024-11-25 13:39:33.822 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:39:33.837 +02:00 [INF] HTTP GET /api/restaurant/3 responded 200 in 194.7588 ms
2024-11-25 13:39:47.893 +02:00 [INF] Get dishes for restaurnt with id = 3
2024-11-25 13:39:47.909 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:39:47.926 +02:00 [INF] HTTP GET /api/restaurant/3/dishes responded 200 in 53.1333 ms
2024-11-25 13:39:54.323 +02:00 [INF] Get dishes for restaurnt with id = 5
2024-11-25 13:39:54.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:39:54.726 +02:00 [WRN] Restaurant with id = 5 doesn't exist
Restaurants.Domain.Exceptions.NotFoundException: Restaurant with id = 5 doesn't exist
   at Restaurants.Application.Dishes.Queries.GetDishesForRestaurant.GetDishesForRestaurantQueryHandle.Handle(GetDishesForRestaurantQuery request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Dishes\Queries\GetDishesForRestaurant\GetDishesForRestaurantQueryHandle.cs:line 24
   at Restaurants.API.Controllers.DishController.GetAll(Int32 restaurantId) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\DishController.cs:line 27
   at lambda_method162(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 13:39:54.825 +02:00 [INF] HTTP GET /api/restaurant/5/dishes responded 404 in 504.4846 ms
2024-11-25 13:40:17.010 +02:00 [INF] Get dishes for restaurnt with id = 3
2024-11-25 13:40:17.027 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:40:17.041 +02:00 [INF] HTTP GET /api/restaurant/3/dishes responded 200 in 35.9907 ms
2024-11-25 13:40:23.532 +02:00 [INF] Get dish for restaurant with id = 3
2024-11-25 13:40:23.538 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:40:23.549 +02:00 [INF] HTTP GET /api/restaurant/3/dishes/5 responded 200 in 26.2784 ms
2024-11-25 13:40:28.107 +02:00 [INF] Get dish for restaurant with id = 3
2024-11-25 13:40:28.116 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:40:28.365 +02:00 [WRN] Dish with id = 4 doesn't exist
Restaurants.Domain.Exceptions.NotFoundException: Dish with id = 4 doesn't exist
   at Restaurants.Application.Dishes.Queries.GetDishByIdForRestaurant.GetDishByIdForRestaurantQueryHandle.Handle(GetDishByIdForRestaurantQuery request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Dishes\Queries\GetDishByIdForRestaurant\GetDishByIdForRestaurantQueryHandle.cs:line 26
   at Restaurants.API.Controllers.DishController.GetById(Int32 restaurantId, Int32 dishId) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\DishController.cs:line 34
   at lambda_method171(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 13:40:28.408 +02:00 [INF] HTTP GET /api/restaurant/3/dishes/4 responded 404 in 302.3967 ms
2024-11-25 13:40:35.936 +02:00 [INF] Get dish for restaurant with id = 3
2024-11-25 13:40:35.943 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:40:35.953 +02:00 [INF] HTTP GET /api/restaurant/3/dishes/5 responded 200 in 18.6221 ms
2024-11-25 13:40:55.366 +02:00 [INF] Get dishes for restaurnt with id = 1
2024-11-25 13:40:55.372 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:40:55.382 +02:00 [INF] HTTP GET /api/restaurant/1/dishes responded 200 in 16.9162 ms
2024-11-25 13:41:01.955 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:41:01.960 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:02.103 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Dishes"
WHERE "Id" = @p0;
2024-11-25 13:41:02.125 +02:00 [INF] HTTP DELETE /api/restaurant/3/dishes responded 204 in 184.4893 ms
2024-11-25 13:41:07.646 +02:00 [INF] Get dish for restaurant with id = 3
2024-11-25 13:41:07.654 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:07.897 +02:00 [WRN] Dish with id = 5 doesn't exist
Restaurants.Domain.Exceptions.NotFoundException: Dish with id = 5 doesn't exist
   at Restaurants.Application.Dishes.Queries.GetDishByIdForRestaurant.GetDishByIdForRestaurantQueryHandle.Handle(GetDishByIdForRestaurantQuery request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Dishes\Queries\GetDishByIdForRestaurant\GetDishByIdForRestaurantQueryHandle.cs:line 26
   at Restaurants.API.Controllers.DishController.GetById(Int32 restaurantId, Int32 dishId) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\DishController.cs:line 34
   at lambda_method171(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 13:41:07.933 +02:00 [INF] HTTP GET /api/restaurant/3/dishes/5 responded 404 in 287.4846 ms
2024-11-25 13:41:11.778 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:41:11.783 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:11.795 +02:00 [INF] HTTP DELETE /api/restaurant/3/dishes responded 204 in 18.6614 ms
2024-11-25 13:41:13.129 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:41:13.135 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:13.146 +02:00 [INF] HTTP DELETE /api/restaurant/3/dishes responded 204 in 19.8077 ms
2024-11-25 13:41:14.929 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:41:14.944 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:14.954 +02:00 [INF] HTTP DELETE /api/restaurant/3/dishes responded 204 in 26.5353 ms
2024-11-25 13:41:22.124 +02:00 [INF] Get dishes for restaurnt with id = 3
2024-11-25 13:41:22.138 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:22.156 +02:00 [INF] HTTP GET /api/restaurant/3/dishes responded 200 in 33.1371 ms
2024-11-25 13:41:29.411 +02:00 [INF] Get all restaurants
2024-11-25 13:41:29.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 13:41:29.429 +02:00 [INF] HTTP GET /api/restaurant responded 200 in 19.4310 ms
2024-11-25 13:41:52.521 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 13:41:52.528 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:41:52.541 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 28.9051 ms
2024-11-25 13:43:25.082 +02:00 [INF] Create new Dish with parametr {"Name":"Caesar Salad","Description":"Fresh salad with romaine lettuce, croutons, and Caesar dressing.","Price":5.49,"KiloCalories":350,"RestaurantId":4,"$type":"CreateDishCommand"}
2024-11-25 13:43:25.096 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:25.153 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 13:43:25.172 +02:00 [INF] HTTP POST /api/restaurant/4/dishes responded 204 in 112.5117 ms
2024-11-25 13:43:29.194 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 13:43:29.201 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:29.215 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 21.7160 ms
2024-11-25 13:43:36.411 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:43:36.417 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:36.428 +02:00 [INF] HTTP DELETE /api/restaurant/3/dishes responded 204 in 17.9946 ms
2024-11-25 13:43:38.419 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 13:43:38.425 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:38.438 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 19.7595 ms
2024-11-25 13:43:40.263 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 13:43:40.271 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:40.283 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 21.1355 ms
2024-11-25 13:43:46.847 +02:00 [INF] Delete dishes for restaurant with id = 4
2024-11-25 13:43:46.854 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:46.888 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Dishes"
WHERE "Id" = @p0;
DELETE FROM "Dishes"
WHERE "Id" = @p1;
2024-11-25 13:43:46.913 +02:00 [INF] HTTP DELETE /api/restaurant/4/dishes responded 204 in 66.7826 ms
2024-11-25 13:43:49.463 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 13:43:49.471 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:49.482 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 18.8618 ms
2024-11-25 13:43:52.007 +02:00 [INF] Delete dishes for restaurant with id = 4
2024-11-25 13:43:52.013 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:43:52.023 +02:00 [INF] HTTP DELETE /api/restaurant/4/dishes responded 204 in 17.3113 ms
2024-11-25 13:50:11.969 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 13:50:12.769 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 13:50:13.789 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 70.4477 ms
2024-11-25 13:50:13.802 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.1234 ms
2024-11-25 13:50:14.055 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 129.7037 ms
2024-11-25 13:50:21.537 +02:00 [INF] Get all restaurants
2024-11-25 13:50:21.779 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 13:50:21.958 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 553.6647 ms
2024-11-25 13:50:39.003 +02:00 [INF] Get dishes for restaurnt with id = 23
2024-11-25 13:50:39.151 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:50:39.166 +02:00 [INF] HTTP GET /api/restaurant/23/dishes responded 200 in 229.6944 ms
2024-11-25 13:50:47.951 +02:00 [INF] Delete dishes for restaurant with id = 4
2024-11-25 13:50:47.960 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:50:48.006 +02:00 [INF] HTTP DELETE /api/restaurant/4/dishes responded 204 in 83.2377 ms
2024-11-25 13:51:20.036 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 13:51:20.850 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 13:51:21.715 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 74.6257 ms
2024-11-25 13:51:21.740 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 3.0565 ms
2024-11-25 13:51:21.821 +02:00 [INF] Get all restaurants
2024-11-25 13:51:22.030 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 160.8506 ms
2024-11-25 13:51:22.105 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 13:51:22.294 +02:00 [INF] HTTP GET /api/restaurant responded 200 in 705.7511 ms
2024-11-25 13:51:26.826 +02:00 [INF] Get all restaurants
2024-11-25 13:51:26.906 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 13:51:26.916 +02:00 [INF] HTTP GET /api/restaurant responded 200 in 97.9936 ms
2024-11-25 13:51:40.445 +02:00 [INF] Get dishes for restaurnt with id = 3
2024-11-25 13:51:40.553 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:51:40.568 +02:00 [INF] HTTP GET /api/restaurant/3/dishes responded 200 in 198.5564 ms
2024-11-25 13:51:46.251 +02:00 [INF] Delete dishes for restaurant with id = 3
2024-11-25 13:51:46.259 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:52:58.234 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 13:52:58.948 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 13:52:59.443 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 64.1841 ms
2024-11-25 13:52:59.457 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.0585 ms
2024-11-25 13:52:59.694 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 105.0089 ms
2024-11-25 13:53:07.609 +02:00 [INF] Delete dishes for restaurant with id = 4
2024-11-25 13:53:07.873 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 13:53:07.990 +02:00 [WRN] Dish with id = 4 doesn't exist
Restaurants.Domain.Exceptions.NotFoundException: Dish with id = 4 doesn't exist
   at Restaurants.Application.Dishes.Commands.DeleteDishForRestaurant.DeleteDishHandle.Handle(DeleteDishForRestaurantCommand request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Dishes\Commands\DeleteDishForRestaurant\DeleteDishHandle.cs:line 34
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Controllers.DishController.Delete(Int32 restaurantId) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\DishController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 13:53:08.072 +02:00 [INF] HTTP DELETE /api/restaurant/4/dishes responded 404 in 522.3260 ms
2024-11-25 14:15:32.105 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 14:15:32.935 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 14:15:33.884 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 70.0546 ms
2024-11-25 14:15:33.907 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.9772 ms
2024-11-25 14:15:34.162 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 123.5217 ms
2024-11-25 17:10:02.965 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:10:03.557 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:13:02.354 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:13:02.962 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:13:12.790 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:13:13.284 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:13:26.561 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:13:27.015 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:16:31.816 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:16:32.323 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:16:47.340 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:16:47.780 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:17:00.988 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:17:01.420 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:17:20.873 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:17:21.317 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:17:31.065 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:17:31.609 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:17:32.344 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 62.5348 ms
2024-11-25 17:17:32.378 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.7462 ms
2024-11-25 17:17:32.563 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 96.5973 ms
2024-11-25 17:32:39.261 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:32:39.423 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:32:54.272 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:32:54.406 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:32:55.147 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 17:32:55.163 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 17:39:22.271 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:39:22.470 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:39:35.175 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:39:35.321 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:39:36.158 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 17:39:36.171 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 17:44:05.623 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:44:05.762 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:44:26.979 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:44:27.321 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 17:44:27.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 17:44:27.378 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 17:44:27.415 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 17:44:27.415 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 17:44:27.421 +02:00 [INF] Applying migration '20241125154406_AddIdentity'.
2024-11-25 17:44:27.511 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2024-11-25 17:44:27.518 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2024-11-25 17:44:27.533 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2024-11-25 17:44:27.540 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-25 17:44:27.547 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-25 17:44:27.553 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-25 17:44:27.559 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2024-11-25 17:44:27.563 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2024-11-25 17:44:27.565 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2024-11-25 17:44:27.567 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2024-11-25 17:44:27.569 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2024-11-25 17:44:27.572 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2024-11-25 17:44:27.575 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2024-11-25 17:44:27.578 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2024-11-25 17:44:29.348 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241125154406_AddIdentity', '8.0.10');
2024-11-25 17:44:40.015 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:44:40.461 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:44:41.909 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 47.5101 ms
2024-11-25 17:44:41.930 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.6018 ms
2024-11-25 17:44:42.121 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 100.7456 ms
2024-11-25 17:45:10.477 +02:00 [INF] Get all restaurants
2024-11-25 17:45:10.612 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 17:45:10.713 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 329.4233 ms
2024-11-25 17:54:15.286 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:54:15.920 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:54:16.564 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 43.4803 ms
2024-11-25 17:54:16.577 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.5091 ms
2024-11-25 17:54:16.750 +02:00 [INF] HTTP GET /swagger/favicon-32x32.png responded 304 in 3.7589 ms
2024-11-25 17:54:16.820 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 73.4142 ms
2024-11-25 17:54:32.070 +02:00 [INF] Get all restaurants
2024-11-25 17:54:32.212 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 17:54:32.312 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 331.4278 ms
2024-11-25 17:54:54.332 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":4,"$type":"CreateDishCommand"}
2024-11-25 17:54:54.409 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:54:54.494 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:54:54.520 +02:00 [ERR] No route matches the supplied values.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 17:54:54.555 +02:00 [ERR] HTTP POST /api/restaurant/4/dishes responded 500 in 273.2362 ms
2024-11-25 17:55:13.154 +02:00 [INF] Get dishes for restaurnt with id = 1
2024-11-25 17:55:13.160 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:55:13.168 +02:00 [INF] HTTP GET /api/restaurant/1/dishes responded 200 in 23.9714 ms
2024-11-25 17:55:18.523 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 17:55:18.528 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:55:18.533 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 11.3573 ms
2024-11-25 17:55:33.904 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":5,"$type":"CreateDishCommand"}
2024-11-25 17:55:33.911 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:55:33.916 +02:00 [WRN] Restaurant with id = 5 doesn't exist
Restaurants.Domain.Exceptions.NotFoundException: Restaurant with id = 5 doesn't exist
   at Restaurants.Application.Dishes.Commands.CreateDish.CreateDishHandle.Handle(CreateDishCommand request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Dishes\Commands\CreateDish\CreateDishHandle.cs:line 18
   at Restaurants.API.Controllers.DishController.CreateDish(Int32 restaurantId, CreateDishCommand command) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\DishController.cs:line 19
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 17:55:33.945 +02:00 [INF] HTTP POST /api/restaurant/5/dishes responded 404 in 43.2328 ms
2024-11-25 17:55:42.377 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":23,"$type":"CreateDishCommand"}
2024-11-25 17:55:42.396 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:55:42.406 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:55:42.410 +02:00 [ERR] No route matches the supplied values.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 17:55:42.429 +02:00 [ERR] HTTP POST /api/restaurant/23/dishes responded 500 in 54.9652 ms
2024-11-25 17:55:52.403 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:55:53.064 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:55:54.531 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 61.5738 ms
2024-11-25 17:55:54.543 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.9028 ms
2024-11-25 17:55:54.849 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 124.6792 ms
2024-11-25 17:57:00.674 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":23,"$type":"CreateDishCommand"}
2024-11-25 17:57:01.880 +02:00 [INF] Executed DbCommand (1,021ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:57:02.079 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:57:23.295 +02:00 [ERR] No route matches the supplied values.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 17:57:23.329 +02:00 [ERR] HTTP POST /api/restaurant/23/dishes responded 500 in 69577.8660 ms
2024-11-25 17:57:54.417 +02:00 [INF] Get all restaurants
2024-11-25 17:57:54.475 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 17:57:54.501 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 95.4588 ms
2024-11-25 17:58:05.127 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":23,"$type":"CreateDishCommand"}
2024-11-25 17:58:05.137 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:58:05.144 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:58:27.242 +02:00 [ERR] No route matches the supplied values.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 17:58:27.263 +02:00 [ERR] HTTP POST /api/restaurant/23/dishes responded 500 in 22144.5838 ms
2024-11-25 17:58:31.089 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":23,"$type":"CreateDishCommand"}
2024-11-25 17:58:31.101 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:58:31.108 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:59:04.516 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 17:59:04.959 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 17:59:05.857 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 46.3062 ms
2024-11-25 17:59:05.869 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 2.1163 ms
2024-11-25 17:59:06.089 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 129.5490 ms
2024-11-25 17:59:13.647 +02:00 [INF] Create new Dish with parametr {"Name":"string","Description":"string","Price":0,"KiloCalories":0,"RestaurantId":4,"$type":"CreateDishCommand"}
2024-11-25 17:59:13.798 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:59:13.965 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Decimal), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Dishes" ("Description", "KiloCalories", "Name", "Price", "RestaurantId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2024-11-25 17:59:13.999 +02:00 [INF] HTTP POST /api/restaurant/4/dishes responded 201 in 468.9257 ms
2024-11-25 17:59:22.278 +02:00 [INF] Get dishes for restaurnt with id = 4
2024-11-25 17:59:22.329 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 17:59:22.351 +02:00 [INF] HTTP GET /api/restaurant/4/dishes responded 200 in 88.8558 ms
2024-11-25 18:06:50.154 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 18:06:50.874 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 18:06:51.776 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 63.6140 ms
2024-11-25 18:06:51.790 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.7133 ms
2024-11-25 18:06:52.035 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 117.1755 ms
2024-11-25 18:07:03.608 +02:00 [INF] HTTP GET /api/Restaurant responded 401 in 40.5029 ms
2024-11-25 18:07:30.776 +02:00 [INF] HTTP POST /register responded 400 in 75.1389 ms
2024-11-25 18:07:38.435 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-25 18:07:38.644 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-11-25 18:07:38.668 +02:00 [INF] HTTP POST /register responded 200 in 593.4141 ms
2024-11-25 18:08:11.815 +02:00 [ERR] Failed to read parameter "LoginRequest login" from the request body as JSON.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "LoginRequest login" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 3 | BytePositionInLine: 0.
 ---> System.Text.Json.JsonReaderException: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. LineNumber: 3 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeNextToken(Byte marker)
   at System.Text.Json.Utf8JsonReader.ConsumeNextTokenOrRollback(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync[TValue](HttpRequest request, JsonTypeInfo`1 jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync[TValue](HttpRequest request, JsonTypeInfo`1 jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__GeneratedRouteBuilderExtensionsCore.TryResolveBodyAsync[T](HttpContext httpContext, <GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__LogOrThrowExceptionHelper logOrThrowExceptionHelper, Boolean allowEmpty, String parameterTypeName, String parameterName, JsonTypeInfo`1 jsonTypeInfo, Boolean isInferred)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__LogOrThrowExceptionHelper.InvalidJsonRequestBody(String parameterTypeName, String parameterName, Exception exception)
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__GeneratedRouteBuilderExtensionsCore.TryResolveBodyAsync[T](HttpContext httpContext, <GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__LogOrThrowExceptionHelper logOrThrowExceptionHelper, Boolean allowEmpty, String parameterTypeName, String parameterName, JsonTypeInfo`1 jsonTypeInfo, Boolean isInferred)
   at Microsoft.AspNetCore.Http.Generated.<GeneratedRouteBuilderExtensions_g>F69328E0708B4B584C5AACA22FE2C51A1CF192D6622828F613FC57C583CA77B63__GeneratedRouteBuilderExtensionsCore.<>c__DisplayClass4_0.<<MapPost1>g__RequestHandler|4>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 18:08:11.883 +02:00 [ERR] HTTP POST /login responded 500 in 98.3288 ms
2024-11-25 18:11:35.793 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 18:11:36.645 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 18:11:37.938 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-25 18:11:38.250 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-11-25 18:11:38.293 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 89.9993 ms
2024-11-25 18:11:38.293 +02:00 [INF] HTTP POST /register responded 200 in 711.9970 ms
2024-11-25 18:11:38.325 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 15.8414 ms
2024-11-25 18:11:38.644 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 178.4151 ms
2024-11-25 18:12:04.405 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-25 18:12:04.662 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2024-11-25 18:12:04.688 +02:00 [INF] HTTP POST /login responded 200 in 402.5544 ms
2024-11-25 18:13:29.370 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 18:13:30.020 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 18:13:30.858 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 67.9842 ms
2024-11-25 18:13:30.889 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.8016 ms
2024-11-25 18:13:31.135 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 121.4751 ms
2024-11-25 18:13:55.008 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-25 18:13:55.305 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2024-11-25 18:13:55.329 +02:00 [INF] HTTP POST /login responded 200 in 526.5074 ms
2024-11-25 18:14:24.330 +02:00 [INF] Get restaurants with id = 1
2024-11-25 18:14:24.523 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Category", t."ContactEmail", t."ContactNumber", t."Description", t."HasDelivery", t."Name", t."Adress_City", t."Adress_PostalCode", t."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM (
    SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street"
    FROM "Restaurants" AS r
    WHERE r."Id" = @__id_0
    LIMIT 1
) AS t
LEFT JOIN "Dishes" AS d ON t."Id" = d."RestaurantId"
ORDER BY t."Id"
2024-11-25 18:14:24.644 +02:00 [INF] HTTP GET /api/Restaurant/1 responded 200 in 483.3516 ms
2024-11-25 18:14:30.631 +02:00 [INF] Get all restaurants
2024-11-25 18:14:30.656 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT r."Id", r."Category", r."ContactEmail", r."ContactNumber", r."Description", r."HasDelivery", r."Name", r."Adress_City", r."Adress_PostalCode", r."Adress_Street", d."Id", d."Description", d."KiloCalories", d."Name", d."Price", d."RestaurantId"
FROM "Restaurants" AS r
LEFT JOIN "Dishes" AS d ON r."Id" = d."RestaurantId"
ORDER BY r."Id"
2024-11-25 18:14:30.680 +02:00 [INF] HTTP GET /api/Restaurant responded 200 in 74.4916 ms
2024-11-25 18:14:40.237 +02:00 [INF] HTTP GET /api/Restaurant responded 401 in 8.1604 ms
2024-11-25 19:02:50.417 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:02:50.594 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:03:15.910 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:03:16.340 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 19:03:16.356 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 19:03:16.401 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 19:03:16.441 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-11-25 19:03:16.442 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-11-25 19:03:16.448 +02:00 [INF] Applying migration '20241125170251_AddNewFieldsToUser'.
2024-11-25 19:03:16.487 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "BirthDay" timestamp with time zone;
2024-11-25 19:03:16.487 +02:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "AspNetUsers" ADD "Nationality" text;
2024-11-25 19:03:16.489 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241125170251_AddNewFieldsToUser', '8.0.10');
2024-11-25 19:21:25.766 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:21:26.352 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 19:21:27.735 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 71.2081 ms
2024-11-25 19:21:27.757 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 4.3836 ms
2024-11-25 19:21:28.025 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 159.4308 ms
2024-11-25 19:22:42.916 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 0.4834 ms
2024-11-25 19:22:42.931 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 0.4254 ms
2024-11-25 19:22:43.001 +02:00 [ERR] HTTP GET /swagger/v1/swagger.json responded 500 in 6.4498 ms
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "PATCH api/identity" for actions - Restaurants.API.Controllers.IdentityController.UpdateUser (Restaurants.API),Restaurants.API.Controllers.UserController.UpdateUser (Restaurants.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-11-25 19:22:43.013 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "PATCH api/identity" for actions - Restaurants.API.Controllers.IdentityController.UpdateUser (Restaurants.API),Restaurants.API.Controllers.UserController.UpdateUser (Restaurants.API). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.PrepareGenerateOperation(IGrouping`2 group)
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-11-25 19:22:48.409 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:22:48.835 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 19:22:49.403 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 41.1581 ms
2024-11-25 19:22:49.410 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.3039 ms
2024-11-25 19:22:49.526 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 65.7737 ms
2024-11-25 19:23:18.503 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDay", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."Nationality", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2024-11-25 19:23:18.741 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ClaimType", a."ClaimValue", a."UserId"
FROM "AspNetUserClaims" AS a
WHERE a."UserId" = @__user_Id_0
2024-11-25 19:23:18.753 +02:00 [INF] HTTP POST /login responded 200 in 375.5157 ms
2024-11-25 19:25:11.960 +02:00 [INF] Update user: 30638f2e-2ef9-4a9d-9370-5b32208171af, with {"BirthDay":"2024-11-25T17:23:33.8950000Z","Nationality":"ukrainian","$type":"UpdateUserDetailsCommand"}
2024-11-25 19:25:12.019 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."BirthDay", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."Nationality", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."Id" = @__p_0
LIMIT 1
2024-11-25 19:25:12.096 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p16='?', @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?', @p17='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "BirthDay" = @p1, "ConcurrencyStamp" = @p2, "Email" = @p3, "EmailConfirmed" = @p4, "LockoutEnabled" = @p5, "LockoutEnd" = @p6, "Nationality" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2024-11-25 19:25:12.107 +02:00 [INF] HTTP PATCH /api/identity responded 204 in 201.6160 ms
2024-11-25 19:25:31.945 +02:00 [ERR] Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Restaurants.Application.Users.Commands.UpdateUserDetailsCommandHandle.Handle(UpdateUserDetailsCommand request, CancellationToken cancellationToken) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurant.Application\Users\Commands\UpdateUserDetailsCommandHandle.cs:line 18
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Controllers.IdentityController.UpdateUser(UpdateUserDetailsCommand command) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Controllers\IdentityController.cs:line 14
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Restaurants.API.Middlewares.RequestTimeHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\RequestTimeHandlingMiddle.cs:line 12
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.InterfaceMiddlewareBinder.<>c__DisplayClass2_0.<<CreateMiddleware>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Restaurants.API.Middlewares.ErrorHandlingMiddle.InvokeAsync(HttpContext context, RequestDelegate next) in D:\C#\.net\NeverGiveUp\Restaurant\Restaurants.API\Middlewares\ErrorHandlingMiddle.cs:line 12
2024-11-25 19:25:31.990 +02:00 [ERR] HTTP PATCH /api/identity responded 500 in 101.9887 ms
2024-11-25 19:27:25.455 +02:00 [WRN] The entity type 'Adress' is an optional dependent using table sharing without any required non shared property that could be used to identify whether the entity exists. If all nullable properties contain a null value in database then an object instance won't be created in the query. Add a required property to create instances with null values for other properties or mark the incoming navigation as required to always create an instance.
2024-11-25 19:27:25.872 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Restaurants" AS r)
2024-11-25 19:27:26.457 +02:00 [INF] HTTP GET /swagger/index.html responded 200 in 41.0503 ms
2024-11-25 19:27:26.464 +02:00 [INF] HTTP GET /swagger/index.js responded 200 in 1.3068 ms
2024-11-25 19:27:26.608 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 69.5122 ms
